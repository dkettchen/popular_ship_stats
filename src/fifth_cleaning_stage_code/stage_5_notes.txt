
goals for this:
    have a list of dicts of character info per character, which contains correct gender value ✅
        go through sets in reverse order ✅
            most recent to oldest, femslash, then yearly, then overall ✅
            -> make a list of file paths in order ✅
        collect gender values per character ✅
            capture latest same-sex value separately (so if it's f/f or m/m) ✅
            capture latest (in general) value too (if it is diff from same sex) ✅
            capture all unique values in a collection ✅
        if both latest value are (same) same sex, they can be assigned that one as their current gender ✅
        go through all where at least one latest value is not same sex ✅
            manually assign them as appropriate ✅
        verify any Other characters you know of ✅
            (angels, gems, canon gender queers, shapeshifters, player characters, drags, etc)
    remove gender column from main data set when running next stage file creation

    have a list of dicts of character info per character, which ALSO contains correct race value
        go through sets in order again
            to collect:
                most recent value (whole list or str)
                if list: 
                    index in pairing
                    if pairing has more than 2 ppl:
                        a note abt that
                all unique values (make lists into strings again??)
            if they're white they should be able to be assigned no problem
            if they're poc in recent sets they will also be assigned properly 
                see who's leftover in old values
                    look em up
        research & replace asian labels w more cardinal direction specificity
        add correct labels to everyone's gender assigned dicts
            have a cursory look at some of em to verify 
                (ie all the things we know have poc vs only white ppl in em)
    remove race column from main data set when running next stage file creation

notes:
TECHNICALLY sanji should be tagged as MENA bc Taz is half-arab acc to op's methodology, 
    despite every not-technically-explicit but like very clear coding in any adaptation 
    (and to my understanding word of god too) evidence points to him being canonically white
    bc live action actor takes precedence over everything other than explicit statements within canon
    (which obv there isn't any in this case cause they're in a fantasy world) acc to op's method
but they have continued to tag him as white in the 2024 set (which, again, *I* agree with)
-> I will not be retagging him cause I think it's silly of them to count ppl who are majority 
white or white passing and playing a heavily implied to only be white character as the tiny bit 
of their heritage that isn't white
        I am however tempted to retag Hob Sandman (whose actor is 1/4 south asian, 
        but whose character was some rando white dude in medieval britain) and Brendan Urie
        who apparently is 1/4 polynesian/hawaiian
    cause I don't think it's useful to count ppl as rep who are not (easily/obviously) 
    identifyable as the rep they technically are 
        -> same as I refuse to tag someone like crowley or loki as nb when they are clearly male-aligned
maybe we can have a "mixed White" tag or something for these cases?
        -> to acknowledge they're not ONLY white, 
        but that they are very much perceived to be that rather than their other heritage
        op said they're prioritising non-white heritage bc of the american system, 
        but if someone's majority white & passing the american system tends to treat them as white
        like if you asked me what brendan urie or hob's actor are, I'd say white
        -> if someone's less than 1/2 non-white and not obviously non-white-passing, 
        we'll consider them mixed-white instead of mixed-non-white
ok so: *my* methodology:
    - use op's method for the most part (so we can reuse their tags)
    - if real human being is 
        -majority white & not obviously non-white-passing, 
        -or not obviously non-white-passing and playing a character who is *heavily* implied 
        to be only white in context with no evidence otherwise, even if not explicitly stated 
            (ex. fantasy contexts where you couldn't explicitly state real world racial 
            alignment as such bc it isn't labelled like that, 
            ex. historical contexts where it would be highly unlikely for this person to be their 
            actor's mixed config), 
        they are tagged as mixed-white instead of their non-white heritage
            -bc I don't think it's helpful, diversity-statistically, to imply 
            someone is more explicit minority rep than they are
            -> by still tagging them as not straight up white, 
            we can acknowledge that other heritage without overstating it
    - if race isn't explicitly stated, there isn't a relevant live action adaptation, 
    and context, voice actors etc are conflicting to the point of me not knowing what to go with, 
    the character will be tagged as ambiguous
    - if the character has never been portrayed in live action 
    and is not clearly implied or established to be of a specific group, 
    they will be tagged as unknown
    - acc to oxford dict latin includes anyone from latin-language countries, 
    so I'm including the south european ones in that (eg portugal, italy, etc)

    # this one applies to gender-difference & race
    - if there are multiple main canon adaptations of a thing, even if op's data mostly was 
    tagged as one over the rest, we will still consider the rest unlike op
        (eg including comic canon not just more popular live action version)


source venv/bin/activate && export PYTHONPATH=$(pwd)

python src/fifth_cleaning_stage_code/collect_gender_tags_per_character.py
python src/fifth_cleaning_stage_code/assign_gender_per_character.py
python src/fifth_cleaning_stage_code/collect_race_tags_per_character.py
